<div class="company-switch-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Select a Company</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div *ngIf="loading$ | async" class="loading-spinner">
        <mat-spinner></mat-spinner>
      </div>
      <mat-error *ngIf="error$ | async">
        Error loading companies.
      </mat-error>
      <mat-nav-list *ngIf="(companies$ | async) && (companies$ | async)!.length > 0">
        <a mat-list-item *ngFor="let company of companies$ | async" (click)="switchCompany(company)">
          <h3 matLine>{{ company.name }}</h3>
        </a>
      </mat-nav-list>
    </mat-card-content>
  </mat-card>
</div>
