<div class="modal-backdrop" (click)="onClose()"></div>
<div class="modal-content">
  <div class="modal-header">
    <span class="modal-title">Report Sick</span>
    <button class="close-btn" (click)="onClose()">&times;</button>
  </div>

  <div class="modal-body">
    <div class="form-group">
      <label for="person-name">Employee</label>
      <input 
        type="text" 
        id="person-name" 
        class="form-input" 
        [value]="personName" 
        disabled 
      />
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="start-date">Sick Date</label>
        <input 
          type="date" 
          id="start-date" 
          class="form-input" 
          [(ngModel)]="startDate"
        />
      </div>
      <div class="form-group" *ngIf="isMultiDay">
        <label for="end-date">End Date</label>
        <input 
          type="date" 
          id="end-date" 
          class="form-input" 
          [(ngModel)]="endDate"
        />
      </div>
    </div>

    <div class="form-group">
      <label class="checkbox-label">
        <input 
          type="checkbox" 
          [(ngModel)]="isMultiDay"
        />
        <span>Multiple Days</span>
      </label>
    </div>

    <div class="form-group">
      <label for="symptoms">Symptoms (Optional)</label>
      <input 
        type="text" 
        id="symptoms" 
        class="form-input" 
        placeholder="e.g., Fever, Headache, Cough"
        [(ngModel)]="symptoms"
      />
    </div>

    <div class="form-group">
      <label class="checkbox-label">
        <input 
          type="checkbox" 
          [(ngModel)]="requiresDoctor"
        />
        <span>Requires Doctor's Note</span>
      </label>
    </div>

    <div class="form-group">
      <label for="note">Additional Notes (Optional)</label>
      <textarea 
        id="note" 
        class="form-textarea" 
        rows="3"
        placeholder="Provide additional details..."
        [(ngModel)]="note"
      ></textarea>
    </div>

    <div class="info-message">
      <i class="bi bi-info-circle"></i>
      <span>Reporting sick will automatically mark your scheduled shifts as "open" for the selected date(s).</span>
    </div>

    <div class="error-message" *ngIf="errorMessage">
      <i class="bi bi-exclamation-circle"></i>
      {{ errorMessage }}
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn-cancel" (click)="onClose()" [disabled]="submitting">
      Cancel
    </button>
    <button class="btn-submit" (click)="onSubmit()" [disabled]="submitting">
      <span *ngIf="!submitting">Report Sick</span>
      <span *ngIf="submitting" class="loading-text">
        <span class="spinner-small"></span>
        Submitting...
      </span>
    </button>
  </div>
</div>
