<div class="container-fluid">
  <div class="row">
    <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">Locations</h4>
        </div>
        <div class="card-body">
          <div *ngIf="loading" class="text-center">
            <div class="spinner-border" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
          <div *ngIf="error" class="alert alert-danger">
            Error loading locations.
          </div>
          <div class="list-group">
            <a *ngFor="let location of locations" class="list-group-item list-group-item-action">
              <h5 class="mb-1">{{ location.name }}</h5>
              <p class="mb-1">{{ location.address }}</p>
              <p class="mb-1">{{ location.geoCoordinates.latitude }}, {{ location.geoCoordinates.longitude }}</p>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">Create Location</h4>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6">
              <google-map
                [options]="mapOptions"
                (mapClick)="onMapClick($event)"
                height="400px"
                width="100%"
              >
                <map-marker
                  *ngIf="markerPosition"
                  [options]="markerOptions"
                ></map-marker>
                <map-circle
                  *ngIf="markerPosition"
                  [radius]="locationForm.get('radius')?.value"
                  [options]="circleOptions"
                ></map-circle>
              </google-map>
            </div>
            <div class="col-md-6">
              <form (ngSubmit)="createLocation()">
                <div class="form-group">
                  <label for="name">Name</label>
                  <input type="text" id="name" class="form-control" formControlName="name">
                </div>
                <div class="form-group">
                  <label for="address">Address</label>
                  <input type="text" id="address" class="form-control" formControlName="address">
                </div>
                <div class="form-group">
                  <label for="latitude">Latitude</label>
                  <input type="number" id="latitude" class="form-control" formControlName="latitude">
                </div>
                <div class="form-group">
                  <label for="longitude">Longitude</label>
                  <input type="number" id="longitude" class="form-control" formControlName="longitude">
                </div>
                <div class="form-group">
                  <label for="radius">Radius (meters)</label>
                  <input type="number" id="radius" class="form-control" formControlName="radius">
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="!locationForm.valid">Create</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>